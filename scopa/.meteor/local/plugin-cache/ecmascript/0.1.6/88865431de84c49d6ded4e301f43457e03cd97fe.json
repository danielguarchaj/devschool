{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"function otherId(game) {\n  return game.currentTurn[game.currentTurn[0] === Meteor.userId() ? 1 : 0];\n}\n\nTemplate.gameList.helpers({\n  games: function () {\n    return Games.find({ inProgress: true }).map(function (game) {\n      game.otherPlayer = Meteor.users.findOne(otherId(game)).username;\n      game.started = moment(game.started).fromNow();\n      return game;\n    });\n  }\n});\n\nTemplate.userList.helpers({\n  users: function () {\n    var myid = Meteor.userId(),\n        cantPlayAgainst = [myid];\n\n    Games.find({ inProgress: true }).forEach(function (game) {\n      cantPlayAgainst.push(otherId(game));\n    });\n\n    return Meteor.users.find({ _id: { $not: { $in: cantPlayAgainst } } });\n  }\n\n});\n\nTemplate.userItem.events({\n  'click button': function (evt, template) {\n    Meteor.call('createGame', template.data._id);\n  }\n});","ast":null,"map":{"version":3,"sources":["/client/home.js"],"names":[],"mappings":"AAAA,SAAS,OAAO,CAAC,IAAI,EAAE;AACrB,SAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAM,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;CAC3E;;AAED,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;AACxB,OAAK,EAAE,YAAY;AACjB,WAAO,KAAK,CAAC,IAAI,CAAC,EAAE,UAAU,EAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;AACzD,UAAI,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC;AAChE,UAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;AAC9C,aAAO,IAAI,CAAC;KACb,CAAC,CAAC;GACJ;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;AACxB,OAAK,EAAE,YAAW;AAChB,QAAI,IAAI,GAAG,MAAM,CAAC,MAAM,EAAE;QACtB,eAAe,GAAG,CAAC,IAAI,CAAC,CAAC;;AAE7B,SAAK,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;AACtD,qBAAe,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;KACrC,CAAC,CAAC;;AAEH,WAAO,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,eAAe,EAAE,EAAC,EAAC,CAAC,CAAC;GACrE;;CAEF,CAAC,CAAC;;AAEH,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;AACvB,gBAAc,EAAE,UAAS,GAAG,EAAE,QAAQ,EAAE;AACtC,UAAM,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GAC9C;CACF,CAAC,CAAA","file":"/client/home.js.map","sourcesContent":["function otherId(game) {\n  return game.currentTurn[game.currentTurn[0] ===  Meteor.userId() ? 1 : 0];\n}\n\nTemplate.gameList.helpers({\n  games: function () {\n    return Games.find({ inProgress:true }).map(function (game) {\n      game.otherPlayer = Meteor.users.findOne(otherId(game)).username;\n      game.started = moment(game.started).fromNow();\n      return game;\n    });\n  }\n});\n\nTemplate.userList.helpers({\n  users: function() {\n    var myid = Meteor.userId(),\n        cantPlayAgainst = [myid];\n\n    Games.find({ inProgress: true}).forEach(function (game) {\n      cantPlayAgainst.push(otherId(game));\n    });\n\n    return Meteor.users.find({ _id: { $not: { $in: cantPlayAgainst }}});\n  }\n\n});\n\nTemplate.userItem.events({\n  'click button': function(evt, template) {\n    Meteor.call('createGame', template.data._id);\n  }\n})\n"]},"hash":"88865431de84c49d6ded4e301f43457e03cd97fe"}
