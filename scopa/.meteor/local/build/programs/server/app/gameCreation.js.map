{"version":3,"sources":["meteor://ðŸ’»app/gameCreation.js"],"names":[],"mappings":";;;;;;;;AAAA,WAAW,GAAG,EAAE,CAAC;;AAEjB,WAAW,CAAC,UAAU,GAAG,UAAU,SAAS,EAAE;AAC5C,MAAI,IAAI,GAAG,UAAU,EAAE;MACnB,OAAO,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;;AAEvC,aAAW,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;AACvC,MAAI,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;;AAE5B,SAAM;AACJ,QAAI,EAAE,IAAI;AACV,WAAO,EAAE,OAAO;AAChB,SAAK,EAAE,KAAK;AACZ,eAAW,EAAE,SAAS;AACtB,cAAU,EAAE,IAAI;AAChB,WAAO,EAAE,IAAI,IAAI,EAAE;GACpB,CAAC;CACH,CAAC;;AAEF,WAAW,CAAC,WAAW,GAAG,UAAS,OAAO,EAAE,IAAI,EAAE;AAChD,OAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,CAAC,EAAE,CAAC,EAAE,EAAE;AACrB,UAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAS,EAAE,EAAE;AACxC,aAAO,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;KACrC,CAAC,CAAC;GACJ;CACF,CAAC;;AAEF,SAAS,SAAS,CAAC,IAAI,EAAE;AACvB,MAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC9B,SAAO,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;CAC7B;;AAED,SAAS,aAAa,CAAC,GAAG,EAAE;AAC1B,MAAI,CAAC,GAAG,EAAE,CAAC;;AAEX,KAAG,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;AACxB,KAAC,CAAC,EAAE,CAAC,GAAG;AACN,UAAI,EAAE,EAAE;AACR,UAAI,EAAE,EAAE;AACR,WAAK,EAAE;AACL,iBAAS,EAAE,CAAC;AACZ,iBAAS,EAAE,CAAC;AACZ,kBAAU,EAAE,CAAC;AACb,eAAO,EAAE,CAAC;AACV,aAAK,EAAE,CAAC;OACT;KACF,CAAC;GACH,CAAC,CAAC;AACH,SAAO,CAAC,CAAC;CACV;;AAED,SAAS,UAAU,GAAI;AACrB,MAAI,KAAK,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC7C,OAAK,GAAG,EAAE,CAAC;AACf,OAAK,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;AAC5B,SAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,EAAE;AAC5B,UAAI,IAAI,GAAG,CAAC,CAAC;AACb,UAAI,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,GAAG,CAAC;AACxB,UAAI,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,GAAG,CAAC;AACxB,UAAI,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,GAAG,CAAC;AACxB,UAAI,CAAC,KAAK,EAAE,EAAE,IAAI,GAAG,GAAG,CAAC;AACzB,WAAK,CAAC,IAAI,CAAC;AACT,YAAI,EAAE,IAAI;AACV,aAAK,EAAE,CAAC;AACR,YAAI,EAAE,IAAI;OACX,CAAC,CAAC;KACJ;GACF,CAAC,CAAC;;AAEH,SAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;CACzB,wE","file":"/gameCreation.js","sourcesContent":["GameFactory = {};\n\nGameFactory.createGame = function (playerIds) {\n  var deck = createDeck(),\n      players = createPlayers(playerIds);\n\n  GameFactory.dealPlayers(players, deck);\n  var table = dealTable(deck);\n\n  return{\n    deck: deck,\n    players: players,\n    table: table,\n    currentTurn: playerIds,\n    inProgress: true,\n    started: new Date()\n  };\n};\n\nGameFactory.dealPlayers = function(players, deck) {\n  for(var i=0; i<3; i++) {\n    Object.keys(players).forEach(function(id) {\n      players[id].hand.push(deck.shift());\n    });\n  }\n};\n\nfunction dealTable(deck) {\n  var c = deck.shift.bind(deck);\n  return [c(), c(), c(), c()];\n}\n\nfunction createPlayers(ids) {\n  var o = {};\n\n  ids.forEach(function (id) {\n    o[id] = {\n      hand: [],\n      pile: [],\n      score: {\n        mostCoins: 0,\n        mostCards: 0,\n        setteBello: 0,\n        primera: 0,\n        scopa: 0\n      }\n    };\n  });\n  return o;\n}\n\nfunction createDeck () {\n  var suits = ['Cups', 'Coins', 'Swords', 'Clubs'];\n      cards = [];\n  suits.forEach(function (suit) {\n    for (var i = 1; i <= 10; i++) {\n      var name = i;\n      if (i === 1) name = 'A';\n      if (i === 8) name = 'N';\n      if (i === 8) name = 'Q';\n      if (i === 10) name = 'K';\n      cards.push({\n        suit: suit,\n        value: i,\n        name: name\n      });\n    }\n  });\n\n  return _.shuffle(cards);\n}\n"]}